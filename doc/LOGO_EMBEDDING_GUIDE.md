# QRコードへのロゴ埋め込み機能

## 概要
QRコード生成ツールにロゴ画像を埋め込む機能を追加しました。この機能により、ブランドロゴや会社のアイコンをQRコードの中央に配置できます。

## 新機能の特徴

### ✅ 対応画像形式
- PNG（推奨）
- JPEG
- GIF
- BMP
- TIFF

### ✅ 自動最適化機能
- **円形マスク**: ロゴを円形に切り抜いて配置
- **サイズ調整**: QRコードに対する比率で自動リサイズ
- **背景処理**: 透明背景を白に変換して可読性を向上
- **中央配置**: QRコードの中央に自動配置

### ✅ 設定オプション
- **ロゴサイズ**: QRコードに対する比率（10-40%）
- **エラー訂正レベル**: ロゴ埋め込み時はH（高）推奨
- **ファイル形式**: PNG/JPEG出力対応

## 使用方法

### 1. 基本手順
1. **URL/テキスト入力**: QRコードにしたい内容を入力
2. **ロゴ選択**: 「参照」ボタンでロゴ画像を選択
3. **サイズ調整**: ロゴサイズ（10-40%）を設定
4. **エラー訂正設定**: H（高）またはQ（中高）を選択
5. **生成・保存**: QRコードを生成して保存

### 2. 推奨設定

#### ロゴありQRコードの推奨設定：
```
エラー訂正レベル: H (High) - 30%
ロゴサイズ: 20-25%
ボックスサイズ: 10-15
ボーダーサイズ: 4以上
```

#### 最適なロゴ画像の条件：
- **解像度**: 200x200ピクセル以上
- **形状**: 正方形または円形
- **背景**: 透明または白
- **コントラスト**: はっきりとした色使い

## 技術的詳細

### エラー訂正機能
QRコードは以下のエラー訂正レベルを持ちます：

| レベル | 訂正率 | ロゴ埋め込み |
|--------|--------|-------------|
| L (Low) | 7% | ❌ 非推奨 |
| M (Medium) | 15% | ⚠️ 小ロゴのみ |
| Q (Quartile) | 25% | ✅ 推奨 |
| H (High) | 30% | ✅ 最適 |

### 埋め込み処理
1. **ロゴ読み込み**: 指定された画像ファイルを読み込み
2. **サイズ調整**: QRコードサイズに応じてリサイズ
3. **円形マスク**: ロゴを円形に切り抜き
4. **背景合成**: 白い背景を追加
5. **中央配置**: QRコードの中央に合成

## サンプルロゴ

プロジェクトには以下のサンプルロゴが含まれています：

### 1. circle_logo.png
- 青い円形デザイン
- 「QR」テキスト入り
- シンプルで読み取りやすい

### 2. company_logo.png  
- 企業ロゴ風デザイン
- 「LOGO」テキスト入り
- プロフェッショナルな外観

### 3. icon_logo.png
- アイコン風デザイン
- オレンジ色のグラデーション
- 目立ちやすいデザイン

## 実用例

### ビジネス用途
```
用途: 名刺、パンフレット
推奨設定: エラー訂正H、ロゴサイズ20%
ロゴ: 会社ロゴ、ブランドマーク
```

### イベント用途
```
用途: ポスター、チラシ
推奨設定: エラー訂正H、ロゴサイズ25%
ロゴ: イベントロゴ、スポンサーロゴ
```

### 個人用途
```
用途: SNS、ブログ
推奨設定: エラー訂正Q、ロゴサイズ15%
ロゴ: アバター、アイコン
```

## 注意事項

### ⚠️ 重要な注意点
1. **ロゴサイズ**: 大きすぎるとQRコードが読み取れなくなります
2. **色の選択**: 背景と似た色のロゴは避けてください
3. **テスト**: 必ず実際のQRリーダーでテストしてください
4. **エラー訂正**: ロゴ埋め込み時は必ずHレベルを使用してください

### 📱 読み取りテスト
生成したQRコードは以下でテストしてください：
- スマートフォンのカメラアプリ
- 専用QRコードリーダーアプリ
- 異なる距離・角度での読み取り
- 印刷後の読み取り

## トラブルシューティング

### Q: QRコードが読み取れない
**A**: 以下を確認してください
- エラー訂正レベルをHに設定
- ロゴサイズを20%以下に縮小
- ロゴの色がQRコードと区別できるか確認

### Q: ロゴが歪んで見える
**A**: 以下を試してください
- 正方形の画像を使用
- 高解像度の画像を使用
- PNG形式で保存

### Q: 透明背景が黒くなる
**A**: ソフトウェアが自動的に白背景に変換します。これは正常な動作です。

---

**ファイル**: `qr_generator_with_logo.py`  
**作成日**: 2025年8月1日  
**機能**: QRコード生成 + ロゴ埋め込み
